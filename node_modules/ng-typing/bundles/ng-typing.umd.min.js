!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],e):e(t["ng-typing"]={},t.ng.core)}(this,function(t,e){"use strict";var i=function(){function t(){this.referenceSpeed=60,this.speedDeviation=30,this.typo=!0,this.typoProbability=5,this.onCompleted=new e.EventEmitter,this.chrs=[],this.position=0,this.displayedChrs="",this.progress=!1}return t.prototype.ngOnInit=function(){this.show()},t.prototype.show=function(t){t&&(this.message=t),!this.progress&&this.message&&this.message.trim().length>0&&(this.progress=!0,this.initParameters(),0==this.referenceSpeed?this.displayedChrs=this.message:(this.chrs=this.message.trim().split(""),setTimeout(this.displayCharacter.bind(this),this.randomSpeed())))},t.prototype.initParameters=function(){this.chrs=[],this.position=0,this.displayedChrs=""},t.prototype.displayCharacter=function(){this.doTypo()?(this.displayedChrs+=this.getRandomCharacter(),setTimeout(this.correctTypo.bind(this),t.TYPO_FIX_SPEED)):(this.displayedChrs+=this.chrs[this.position++],this.position==this.chrs.length?(this.onCompleted.emit(),this.progress=!1):setTimeout(this.displayCharacter.bind(this),this.randomSpeed()))},t.prototype.getRandomCharacter=function(){return t.RANDOM_CHARACTERS.charAt(Math.floor(Math.random()*t.RANDOM_CHARACTERS.length))},t.prototype.correctTypo=function(){this.displayedChrs=this.displayedChrs.slice(0,-1),setTimeout(this.displayCharacter.bind(this),this.randomSpeed())},t.prototype.randomSpeed=function(){var t=Math.floor(Math.random()*Math.floor(this.speedDeviation)),e=0==Math.round(Math.random())?1:-1;return this.referenceSpeed+t*e},t.prototype.doTypo=function(){return!!(this.position>2&&this.typo)&&(this.typoProbability=Math.max(Math.min(t.MAX_TYPO_PROBABILITY,Math.round(this.typoProbability)),0),Math.floor(100*Math.random())<this.typoProbability)},t}();i.MAX_TYPO_PROBABILITY=80,i.TYPO_FIX_SPEED=200,i.RANDOM_CHARACTERS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",i.decorators=[{type:e.Component,args:[{selector:"typing",template:"{{displayedChrs}}"}]}],i.ctorParameters=function(){return[]},i.propDecorators={message:[{type:e.Input}],referenceSpeed:[{type:e.Input}],speedDeviation:[{type:e.Input}],typo:[{type:e.Input}],typoProbability:[{type:e.Input}],onCompleted:[{type:e.Output,args:["onCompleted"]}]};var o=function(){return function(){}}();o.decorators=[{type:e.NgModule,args:[{declarations:[i],exports:[i]}]}],o.ctorParameters=function(){return[]},t.TypingModule=o,t.TypingComponent=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-typing.umd.min.js.map
