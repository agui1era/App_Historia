{
  "version": 3,
  "file": "ng-typing.umd.js",
  "sources": [
    "ng://ng-typing/out/libs/ng-typing/src/typing.module.ts",
    "ng://ng-typing/out/libs/ng-typing/src/typing.component.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { TypingComponent } from './typing.component';\n\n@NgModule({\n  declarations: [TypingComponent],\n  exports: [TypingComponent]\n})\nexport class TypingModule { }\n",
    "import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'typing',\r\n  template: `{{displayedChrs}}`\r\n})\r\nexport class TypingComponent implements OnInit {\r\n\r\n  static readonly MAX_TYPO_PROBABILITY: number = 80;\r\n  static readonly TYPO_FIX_SPEED: number = 200;\r\n  static readonly RANDOM_CHARACTERS: string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\r\n\r\n  @Input() message: string;\r\n  @Input() referenceSpeed: number = 60; // ms\r\n  @Input() speedDeviation: number = 30; // ms\r\n  @Input() typo: boolean = true;\r\n  @Input() typoProbability: number = 5;\r\n  @Output('onCompleted') onCompleted = new EventEmitter<void>();\r\n\r\n  chrs: string[] = [];\r\n  position: number = 0;\r\n  displayedChrs: string = '';\r\n  progress: boolean = false;\r\n  \r\n  ngOnInit() {\r\n    this.show();\r\n  }\r\n\r\n  show(message?: string) {\r\n    if (message)  {\r\n      this.message = message;\r\n    }\r\n    if (!this.progress && this.message && this.message.trim().length > 0) {\r\n      this.progress = true;\r\n      this.initParameters();\r\n      if (this.referenceSpeed == 0) {\r\n        this.displayedChrs = this.message;\r\n      } else {\r\n        this.chrs = this.message.trim().split('');\r\n        setTimeout(this.displayCharacter.bind(this), this.randomSpeed())\r\n      }\r\n    }\r\n  }\r\n\r\n  private initParameters() {\r\n    this.chrs = [];\r\n    this.position = 0;\r\n    this.displayedChrs = '';\r\n  }\r\n\r\n  private displayCharacter() {\r\n    if (this.doTypo()) {\r\n      this.displayedChrs += this.getRandomCharacter();\r\n      setTimeout(this.correctTypo.bind(this), TypingComponent.TYPO_FIX_SPEED);\r\n    } else {\r\n      this.displayedChrs += this.chrs[this.position++];\r\n      if (this.position == this.chrs.length) {\r\n        this.onCompleted.emit();\r\n        this.progress = false;\r\n      } else {\r\n        setTimeout(this.displayCharacter.bind(this), this.randomSpeed());\r\n      }\r\n    }\r\n  }\r\n\r\n  private getRandomCharacter(): string {\r\n    return TypingComponent.RANDOM_CHARACTERS\r\n      .charAt(Math.floor(Math.random() * TypingComponent.RANDOM_CHARACTERS.length));\r\n  }\r\n\r\n  private correctTypo() {\r\n    this.displayedChrs = this.displayedChrs.slice(0, -1);\r\n    setTimeout(this.displayCharacter.bind(this), this.randomSpeed());\r\n  }\r\n\r\n  private randomSpeed(): number {\r\n    const deviation = Math.floor(Math.random() * Math.floor(this.speedDeviation));\r\n    const direction = Math.round(Math.random()) == 0 ? 1 : -1;\r\n    return this.referenceSpeed + (deviation * direction);\r\n  }\r\n\r\n  private doTypo(): boolean {\r\n    if (this.position > 2 && !!this.typo) {\r\n      this.typoProbability = Math.max(Math.min(TypingComponent.MAX_TYPO_PROBABILITY,\r\n        Math.round(this.typoProbability)), 0);\r\n      return Math.floor(Math.random() * 100) < this.typoProbability;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n"
  ],
  "names": [
    "NgModule",
    "Output",
    "Input",
    "Component",
    "EventEmitter"
  ],
  "mappings": "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"
}
