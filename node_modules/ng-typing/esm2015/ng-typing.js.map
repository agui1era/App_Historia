{
  "version": 3,
  "file": "ng-typing.js",
  "sources": [
    "ng://ng-typing/out/libs/ng-typing/src/typing.module.ts",
    "ng://ng-typing/out/libs/ng-typing/src/typing.component.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { TypingComponent } from './typing.component';\n\n@NgModule({\n  declarations: [TypingComponent],\n  exports: [TypingComponent]\n})\nexport class TypingModule { }\n",
    "import { Component, Input, OnInit, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'typing',\r\n  template: `{{displayedChrs}}`\r\n})\r\nexport class TypingComponent implements OnInit {\r\n\r\n  static readonly MAX_TYPO_PROBABILITY: number = 80;\r\n  static readonly TYPO_FIX_SPEED: number = 200;\r\n  static readonly RANDOM_CHARACTERS: string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\r\n\r\n  @Input() message: string;\r\n  @Input() referenceSpeed: number = 60; // ms\r\n  @Input() speedDeviation: number = 30; // ms\r\n  @Input() typo: boolean = true;\r\n  @Input() typoProbability: number = 5;\r\n  @Output('onCompleted') onCompleted = new EventEmitter<void>();\r\n\r\n  chrs: string[] = [];\r\n  position: number = 0;\r\n  displayedChrs: string = '';\r\n  progress: boolean = false;\r\n  \r\n  ngOnInit() {\r\n    this.show();\r\n  }\r\n\r\n  show(message?: string) {\r\n    if (message)  {\r\n      this.message = message;\r\n    }\r\n    if (!this.progress && this.message && this.message.trim().length > 0) {\r\n      this.progress = true;\r\n      this.initParameters();\r\n      if (this.referenceSpeed == 0) {\r\n        this.displayedChrs = this.message;\r\n      } else {\r\n        this.chrs = this.message.trim().split('');\r\n        setTimeout(this.displayCharacter.bind(this), this.randomSpeed())\r\n      }\r\n    }\r\n  }\r\n\r\n  private initParameters() {\r\n    this.chrs = [];\r\n    this.position = 0;\r\n    this.displayedChrs = '';\r\n  }\r\n\r\n  private displayCharacter() {\r\n    if (this.doTypo()) {\r\n      this.displayedChrs += this.getRandomCharacter();\r\n      setTimeout(this.correctTypo.bind(this), TypingComponent.TYPO_FIX_SPEED);\r\n    } else {\r\n      this.displayedChrs += this.chrs[this.position++];\r\n      if (this.position == this.chrs.length) {\r\n        this.onCompleted.emit();\r\n        this.progress = false;\r\n      } else {\r\n        setTimeout(this.displayCharacter.bind(this), this.randomSpeed());\r\n      }\r\n    }\r\n  }\r\n\r\n  private getRandomCharacter(): string {\r\n    return TypingComponent.RANDOM_CHARACTERS\r\n      .charAt(Math.floor(Math.random() * TypingComponent.RANDOM_CHARACTERS.length));\r\n  }\r\n\r\n  private correctTypo() {\r\n    this.displayedChrs = this.displayedChrs.slice(0, -1);\r\n    setTimeout(this.displayCharacter.bind(this), this.randomSpeed());\r\n  }\r\n\r\n  private randomSpeed(): number {\r\n    const deviation = Math.floor(Math.random() * Math.floor(this.speedDeviation));\r\n    const direction = Math.round(Math.random()) == 0 ? 1 : -1;\r\n    return this.referenceSpeed + (deviation * direction);\r\n  }\r\n\r\n  private doTypo(): boolean {\r\n    if (this.position > 2 && !!this.typo) {\r\n      this.typoProbability = Math.max(Math.min(TypingComponent.MAX_TYPO_PROBABILITY,\r\n        Math.round(this.typoProbability)), 0);\r\n      return Math.floor(Math.random() * 100) < this.typoProbability;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n"
  ],
  "names": [],
  "mappings": "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"
}
